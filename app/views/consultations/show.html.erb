<% if false %>
<body>
<div my-widget>
  <p>Hello World</p>
</div>
</body>
<body ng-controller="PtntInfoCtrl">
<table>
  <tr>
    <td align="right">Search :</td>
    <td><input ng-model="query[queryBy]" /></td>
  </tr>
  <tr>
    <td align="right">Search By :</td>
    <td>
      <select ng-model="queryBy">
        <option value="$"></option>
        <option value="name">NAME</option>
        <option value="UR">UR</option>
      </select>
    </td>
  </tr>
</table>
<hr>
<div>
  <table>
    <tr>
      <th>Patient Name</th>
      <th>UR Number</th>
    </tr>
    <tr ng-repeat="patient in patients | filter:query">
      <td>{{patient.name}}</td>
      <td>{{patient.ur}}</td>
    </tr>
  </table>
</div>
</body>
<div my-widget>
<div class="panel panel-info consult" id="background" ng-controller="CalendarListCtrl">
  <div class="panel-heading">
    <h3 class="panel-title">Appointments</h3>
  </div>
</div>
  <div ng-repeat="appointment in appointments">
    {{appointment.id}}
    Display appointment patient and time (next 3) here
  </div>
</div>

<body ng-controller="ImageCtrl">

<ul>
  <li ng-repeat="image in images">
    <a href="#/consultations/show/{{image.id}}" class="thumb"><img ng-src="{{image}}"></a>
    <p>
      {{image.snippet}}
    </p>
  </li>
</ul>

<div class="row">
  <li ng-repeat="image in images">
    <div class="col-xs-10">
      <a href="#/consultations/show/{{image.id}}" class="thumb"><img ng-src="{{image}}"></a>
  </li>
</div>
<div class="page-header">
  <h1>Carousel</h1>
</div>
<div ng-controller="ImageCtrl">
  <div id="carousel-images" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
      <li data-target="#carousel-images" ng-repeat="image in images" data-slide-to="{{$index}}" ng-class="{active: $index == 0}"></li>
    </ol>
    <div class="carousel-inner">
      <!-- Slide 1-->
      <div ng-repeat="image in images" ng-class="{active: $index == 0}" class="item">
        <img ng-src="{{image}}"/>
        <div class="carousel-caption">
          <h1>Slide {{image}}</h1>
          <p>Description goes here!!</p>
        </div>
      </div>
    </div>

    <a class="left carousel-control" href="#carousel-images" role="button" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left"></span>
    </a>
    <a class="right carousel-control" href="#carousel-images" role="button" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right"></span>
    </a>
  </div>


  <div class="row">
    <div class="col-md-6">
      <table class="table">
        <thead>
        <tr>
          <th>Name</th>
          <th>UR</th>
          <th>DOB</th>
        </tr>
        </thead>
        <tbody ng-controller="PtntInfoCtrl">

        <tr ng-repeat="patient in patients">
          <td>{{patient.name}}</td>
          <td>{{patient.ur}}</td>
          <td>{{patient.DOB}}</td>
        </tr>
        </tbody>

    </div>
  </div>

  <body ng-controller="PtntInfoCtrl">
  <div ng-repeat="patient in patients">
    <p>
      {{patient.name}}
      {{patient.ur}}
    </p>
    <p>{{patient.DOB}}</p>
  </div>

  </body>
  <div class="row">
    <div class="3u">
      Side bar
    </div>
    <div class="6u">
      hello
    </div>
    <div class="3u">
      Right bar
    </div>
  </div>
  <ul id="consultTab" class="nav nav-tabs" role="tablist">
    <li class="active"><a data-target="#consulttext" role="tab" data-toggle="tab">Text</a></li>
    <li><a data-target="#drawing" role="tab" data-toggle="tab">Drawing</a></li>
  </ul>
  <form class="form-inline" role="form">
    <div class="form-group">
      <label></i> Patient</label>
      <input type="text" class="form-control" ng-model="selectedPatient.name" ng-options="patient for patient in patients" placeholder="Patient" bs-typeahead>
    </div>

<div class="drawing">
  <canvas width="500" height="300" id="canvas" drawing></canvas>


</div>

<div ng-controller="ConsultController">

  <h2>My Note</h2>

  <p><textarea ng-model="consulttext" cols="40" rows="10"></textarea></p>
  <p>
    <button ng_click="save()">Save</button>
    <button ng-click="clear()">Clear</button>
  </p>
</div>
<ul id="consultTab" class="nav nav-tabs">
  <li class="active">
    <a href="#home" data-toggle="tab">
     Consult Text
    </a>
  </li>
  <li><a href="#consultDrawing" data-toggle="tab">iOS</a></li>
</ul>
<div id="consultTabContent" class="tab-content">
  <div class="tab-pane fade in active" id="home">
   <p> <textarea ng-model="consulttext" cols="40" rows="10"></textarea></p>
  </div>
  <div class="tab-pane fade" id="consultDrawing">
    <canvas width="500" height="300" id="canvas" drawing></canvas>
  </div>
</div>

   <div>
    <table class="table">
      <thead>
      <tr>
        <th>Name</th>
        <th>lastscript</th>
        <th>nextscript</th>
        <th>tablets</th>
        <th>dose</th>
      </tr>
      </thead>
      <tbody ng-controller="MedicationController">

      <tr ng-repeat="medication in medications">
        <td>{{medication.name}}</td>
        <td>{{medication.lastscript}}</td>
        <td>{{medication.nextscript}}</td>
        <td>{{medication.tablets}}</td>
        <td>{{medication.dose}}</td>
        <td><button ng_click="save()">Print script</button>
      </tr>
      </tbody>
        </table>
     <td><button ng_click="save()">New medication</button>
       <span  class="nullable">
    <select ng-model="mypastmedications" ng-options="pastmedication.name for pastmedication in pastmedications">
      <option value="">previous medications</option>
    </select>
  </span>
   </div>

<div>
      <table class="table" ng-controller="PathologyController">
        <thead>
        <tr>
          <th>Type</th>
          <th>Date</th>
          <th>Hb</th>
          <th>WCC</th>
        </tr>
        </thead>
        <tbody ng-controller="PathologyController">
        <tr ng-repeat="pathology in pathology">
          <td>{{pathology.name}}</td>
          <td>{{pathology.date}}</td>
          <td>{{pathology.Hb}}</td>
          <td>{{pathology.WCC}}</td>
        </tr>
        </tbody>
      </table>
    </div>

<div>
  <table class="table" ng-controller="PastAppointmentsController">
    <thead>
    <tr>
      <th>Summary</th>
      <th>Date</th>
    </tr>
    </thead>
    <tbody ng-controller="PastAppointmentsController">
    <tr ng-repeat="pastappointment in pastappointments">
      <td>{{pastappointment.summary}}</td>
      <td>{{pastappointment.date}}</td>
      <td><button ng_click="save()">View</button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
<% end %>
<div class="container" ng-controller="EmailController">
  <ul class="nav nav-tabs">
    <li ng-class="{active: activeTab == 'inbox'}">
      <a ng-click="activeTab='inbox'">Inbox</a>
    </li>
    <li ng-class="{active: activeTab == 'sent'}">
      <a ng-click="activeTab='sent'">Sent</a>
    </li>
  </ul>
  <table ng-show="activeTab=='inbox'" class="table table-bordered table-condensed">    <tbody>
    <tr ng-repeat="email in emails" ng-click="showPopup(email)">
      <td>{{ email.from }}</td>
      <td>{{ email.subject }}</td>
      <td>{{ email.date }}</td>
      <td>{{email.body}}</td>
    </tr>
    </tbody>
  </table>
  <table ng-show="activeTab=='sent'" class="table table-bordered table-condensed">
    <tbody>
    <tr ng-repeat="email in sentEmails" ng-click="showPopup(email)">
      <td>{{ email.to }}</td>
      <td>{{ email.subject }}</td>
      <td>{{ email.date }}</td>
    </tr>
    </tbody>
  </table>
  <div class="modal" ng-show='isPopupvisible'>
    <div class="modal-header">
      <button type="button" class="close" ng-click="closePopup()">×</button>
      <h3>{{selectedEmail.subject}}</h3>
    </div>
    <div class="modal-body">
      <strong>From:</strong> {{selectedEmail.from}} <br />
      <strong>Date:</strong> {{selectedEmail.date}} <br />
      <strong>Body:</strong> {{selectedEmail.body}} <br />
    </div>
    <div class="modal-footer">
      <a href="#" class="btn btn-primary" ng-click="closePopup()">Close</a>
    </div>
  </div>
  <button class="btn btn-primary" ng-click="showComposePopup()">Compose</button>  <div class="modal" ng-show="isComposePopupVisible">
    <div class="modal-header">
      <button type="button" class="close"  ng-click="closePopup()">×</button>
      <h3>Compose Email</h3>
    </div>
    <div class="modal-body">
      <form>
        <input type="text" placeholder="To" ng-model="composeEmail.to" style="width:95%;"><br />
        <input type="text" placeholder="Subject" ng-model="composeEmail.subject" style="width:95%;"><br />
        <textarea style="width:95%;" rows="10" ng-model="composeEmail.body"></textarea>
      </form>
    </div>
  <div class="modal-footer">
    <a href="#" class="btn btn-primary" ng-click="closeComposePopup()">Close</a>
      <a href="#" class="btn btn-primary" ng-click="sendEmail()">Send</a>
    </div>
  </div>
</div>

<div class="container" ng-controller="EmailController">
  <ul class="nav nav-tabs">
    <li ng-class="{active: activeTab == 'inbox'}">
      <a ng-click="activeTab='inbox'">Inbox</a>
    </li>
    <li ng-class="{active: activeTab == 'sent'}">
      <a ng-click="activeTab='sent'">Sent</a>
    </li>
  </ul>
  <table ng-show="activeTab=='inbox'" class="table table-bordered table-condensed">
    <tbody>
    <tr ng-repeat="email in emails" ng-click="showPopup(email)">
      <td>{{ email.from }}</td>
      <td>{{ email.subject }}</td>
      <td>{{ email.date }}</td>
    </tr>
    </tbody>
  </table>
  <table ng-show="activeTab=='sent'" class="table table-bordered table-condensed">
    <tbody>
    <tr ng-repeat="email in sentEmails" ng-click="showPopup(email)">
      <td>{{ email.to }}</td>
      <td>{{ email.subject }}</td>
      <td>{{ email.date | date:'MMM d' }}</td>
    </tr>
    </tbody>
  </table>
  <button class="btn btn-primary" ng-click="showComposePopup()">Compose</button>

  <div class="modal" ng-show="isPopupVisible">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="closePopup()">&times;</button>
      <h3>{{selectedEmail.subject}}</h3>
    </div>
    <div class="modal-body">
      <strong>From:</strong> {{selectedEmail.from}}<br />
      <strong>To:</strong> {{selectedEmail.to}}<br />
      <strong>Date:</strong> {{selectedEmail.date | date:'MMM d' }}<br />
      <br />
      {{selectedEmail.body}}
    </div>
    <div class="modal-footer">
      <a href="#" class="btn btn-primary" ng-click="closePopup()">Close</a>
    </div>
  </div>

  <div class="modal" ng-show="isComposePopupVisible">
    <div class="modal-header">
      <button type="button" class="close" ng-click="closeComposePopup()">&times;</button>
      <h3>Compose Email</h3>
    </div>
    <div class="modal-body">
      <form>
        <input type="text" placeholder="To" style="width:95%;"
               ng-model="composeEmail.to"><br />
        <input type="text" placeholder="Subject" style="width:95%;"
               ng-model="composeEmail.subject"><br />
        <textarea style="width:95%;" rows="10"
                  ng-model="composeEmail.body"></textarea>
      </form>
    </div>
    <div class="modal-footer">
      <a href="#" class="btn"ng-click="closeComposePopup()">Close</a>
      <a href="#" class="btn btn-primary" ng-click="sendEmail()">Send</a>
    </div>
  </div>
</div>

