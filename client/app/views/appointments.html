<div ng-repeat="doctor in doctors" ng-click="testfilter5(doctor)">
    {{doctor.name}}
</div>
<div class="widget border-green span3">
    <div class="widget-header bg-green">
        <!-- widget icon -->
        <div class="widget-icon"><i class="aweso-table"></i></div>
        <!-- widget title -->
        <h4 class="widget-title">Doctors</h4>
    </div>

    <div class="filter123">
        Doctors
        <!--<div>-->
        <!--<div ng-repeat="doctorId in doctorIdsGroup">-->
        <!--<b><input type="checkbox" ng-model="useDoctorIds[doctorId]"/>{{doctorId}}</b>-->
        <!--<span>({{ (filteredLetters | filter:query | filter:count('doctorId', doctorId)).length }})</span>-->
        <!--</div>-->
        <!--</div>-->
    </div>
    <table id="datatables1" class="table table-striped table-hover">
        <thead>
        <tr>
            <th>
                First Name
            </th>
            <th>Filter by doctor</th>
        </tr>
        </thead>
        <tbody  data-ng-repeat="doctor in doctors | orderBy:doctor.id" >
        <tr>
            <td>{{doctor.name}}</td>
            <!--<span>({{ (filteredLetters | filter:query | filter:count('doctorId', doctorId)).length }})</span>-->
            <td><input type="checkbox" ng-click="testfilter5(doctor)" ng-check=checkVal/></td>


        </tr>
        </tbody><!-- source with ajax -->
    </table>
</div>
<div class="widget border-green span3">
    <div class="widget-header bg-green">
        <!-- widget icon -->
        <div class="widget-icon"><i class="aweso-table"></i></div>
        <!-- widget title -->
        <h4 class="widget-title">Doctors</h4>
    </div>

    <div class="filter">
        Doctors
        <!--<div>-->
            <!--<div ng-repeat="doctorId in doctorIdsGroup">-->
                <!--<b><input type="checkbox" ng-model="useDoctorIds[doctorId]"/>{{doctorId}}</b>-->
                <!--<span>({{ (filteredLetters | filter:query | filter:count('doctorId', doctorId)).length }})</span>-->
            <!--</div>-->
        <!--</div>-->
    </div>
    <table id="datatables1" class="table table-striped table-hover">
        <thead>
        <tr>
            <th>
                First Name
            </th>
            <th>Filter by doctor</th>
        </tr>
        </thead>
        <tbody  data-ng-repeat="doctorId in doctorIdsGroup | orderBy:doctorId" >
        <tr>
            <td>{{doctorId}}{{subject}}</td>
            <td><input type="checkbox" ng-model="useDoctorIds[doctorId]"/></td>
            <!--<span>({{ (filteredLetters | filter:query | filter:count('doctorId', doctorId)).length }})</span>-->


        </tr>
        </tbody><!-- source with ajax -->
    </table>
</div>

<table st-table="filteredAppointments" st-safe-src="appointments" class="table table-striped table-hover">
    <thead>
    <tr>
        <th st-sort="id">ID
            <span ng-show="sortType1 == 'id' && !sortReverse1" class="fa fa-caret-down"></span>
            <span ng-show="sortType1 == 'id' && sortReverse1" class="fa fa-caret-up"></span>
        </th>
        <th st-sort="id">Appointment ID</th>
        <th st-sort="start_date">Date</th>
        <th st-sort="doctorId">Doctor</th>
        <th st-sort="appointmentId">Appointment</th>
        <th st-sort="subject">Subject</th>

    </tr>
    <tr>
        <th colspan="5"><input st-search="" class="form-control" placeholder="global search ..." type="text"/></th>
    </tr>

    </thead>
    <tbody>
    <tr ng-repeat="appointment in filteredAppointments" ng-click="showPopup(letter)" ng-if="$index < 3">
        <td>{{appointment.id}}</td>
        <td>{{appointment.startDate}}</td>
        <td>{{appointment.doctorId}}</td>



    </tr>
    </tbody>
    <tfoot>

    </tfoot>
</table>

<button class="btn btn-primary" ng-click="testfilter()">Watch <signature></signature></button>
<button class="btn btn-primary" ng-click="trial()">Trial <signature></signature></button>
<button class="btn btn-primary" ng-click="testfilter2()">Test eventrender</button>
<button class="btn btn-primary" ng-click="testfilter3()">Test appointment filter</button>
<button class="btn btn-primary" ng-click="testfilter4()">Test bookingEvents filter</button>


<!--<div class="input-group bootstrap-timepicker timepicker">-->
    <!--<input id="timepicker1" type="text" class="form-control input-small">-->
    <!--<span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>-->
<!--</div>-->

<!--<script type="text/javascript">-->
    <!--$(function() {-->
        <!--$('#datetimepicker1').datetimepicker({-->
            <!--language: 'pt-BR'-->
        <!--});-->
    <!--});-->
<!--</script>-->
<!--<div class="input-group bootstrap-timepicker timepicker">-->
    <!--<input id="timepicker2" type="text" class="form-control input-small">-->
    <!--<span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>-->
<!--</div>-->
<select id="school_selector" ng-model="event.school" ng-click="testfilter()">
    <option value="all">All
    <option value="1">School 1</a>
    <option value="2">School 2</a>
</select>

<div ng-click="testfilter()">
    <option value="1">School 1</a>
    <option value="2">School 2</a>
</div>
<div><select ng-model="doctor.id" ng-options="doctor.firstName for doctor in doctors" placeholder="Product">
    <option value="">Select Doctor</option>
</select>   </div>
<div ng-model="schoolFilter">
    <select id="school_selector" >
    <option value="all">All</option>
    <option value="1">School 1</option>
    <option value="2">School 2</option>
</select>
</div>

<!--<script type="text/javascript">-->
    <!--$('#timepicker1').timepicker();-->
<!--</script>-->
    <!--&lt;!&ndash; widget content &ndash;&gt;-->
    <!--<div class="widget-content">-->
            <!--<div class="control-group">-->
                <!--<label class="control-label" for="timepicker">Timepicker #1</label>-->
                <!--<div class="controls">-->
                    <!--<div class="input-append bootstrap-timepicker">-->
                        <!--<input id="timepicker1" type="text" class="form-control input-small">-->
                        <!--<span class="add-on"><i class="icomo-stopwatch"></i></span>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>&lt;!&ndash; /control-group &ndash;&gt;-->

        <!--<div class="input-group bootstrap-timepicker timepicker">-->
            <!--<input id="timepicker2" type="text" class="form-control input-small">-->
            <!--<span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>-->
        <!--</div>-->

        <!--<div class="control-group">-->
                <!--<label class="control-label" for="timepicker2">Without component</label>-->
                <!--<div class="controls">-->
                    <!--<div class="bootstrap-timepicker">-->
                        <!--<input data-fx="timepicker" data-minute-step="5" data-show-inputs="false" data-disable-focus="true" id="timepicker2" type="text" class="input-small">-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>&lt;!&ndash; /control-group &ndash;&gt;-->
            <!--<div class="control-group">-->
                <!--<label class="control-label" for="timepicker3">Without a template</label>-->
                <!--<div class="controls">-->
                    <!--<div class="bootstrap-timepicker">-->
                        <!--<input data-fx="timepicker" data-template="false" data-show-inputs="false" id="timepicker3" type="text" class="input-small">-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>&lt;!&ndash; /control-group &ndash;&gt;-->
            <!--<div class="control-group">-->
                <!--<label class="control-label" for="timepicker4">Modal & 24hr</label>-->
                <!--<div class="controls">-->
                    <!--<div class="input-append bootstrap-timepicker">-->
                        <!--<input data-fx="timepicker" data-template="modal" data-show-meridian="false" data-show-seconds="true" id="timepicker4" type="text" class="input-small">-->
                        <!--<span class="add-on"><i class="icomo-stopwatch"></i></span>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>&lt;!&ndash; /control-group &ndash;&gt;-->

    </div><!-- /widget content -->

<button class="btn btn-primary" ng-click="update2()">Show</button>
        <div>
            <ng-model="appointment.id"
        </div>

<article class="content-page">
    <!-- main page, you're application here -->
    <div class="main-page">

        <button class="btn btn-primary" ng-click="createAppointmentModal('sm')">Create</button>

        <div ui-calendar="uiConfig.calendar" calendar="appts" class="span8 calendar" ng-model="eventSources" id="mycalendar" calendar-watch-event="extraEventSignature(event)"></div>

        <div ng-repeat="appointment in appointments" ng-if="$index < 3">
            <input ng-model="appointment.id" ng-click="update2(appointment)">
        </div>

        <div class="modal-body" ng-show="isPopup3Visible">
            <form>
                <fieldset>

                    <label><strong>Appointment Name</strong></label>

                    <div>
                    <ui-select ng-model="doctor.test" theme="select2" ng-disabled="ctrl.disabled" style="min-width: 300px;" title="Choose a doctor">
                        <ui-select-match placeholder="Choose a doctor">{{$select.selected.name}}</ui-select-match>
                        <ui-select-choices repeat="doctor in (doctors | filter:$select.search) track by $index">
                            <div ng-bind-html="doctor.name | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                    </div>
                    <label><strong>Patient</strong></label>
                    <div>
                        <ui-select ng-model="patient.test" theme="select2" ng-disabled="ctrl.disabled" style="min-width: 300px;" title="Choose a patient">
                            <ui-select-match placeholder="Choose a patient">{{$select.selected.firstName}}  {{$select.selected.lastName}}</ui-select-match>
                            <ui-select-choices repeat="patient in (patients | filter:$select.search) track by $index">
                                <div ng-bind-html="patient.firstName + + patient.lastName | highlight: $select.search"></div>
                            </ui-select-choices>
                        </ui-select>
                    </div>

                    <label><strong>Date</strong></label>
                    <div><input class="datepicker" data-ng-model="appointment.start_date" >
                    </div>
                    <label><strong>Start Time</strong></label>
                    <div>
                        <input class="span3" timepicker ng-model="appointment.start_time" data-minute-step="5"></timepicker>
                    </div>
                    <!--<input class="span3"  data-ng-model="appointment.end_time" type="string" maxlength="250">-->
                    <label><strong>End Time</strong></label>
                    <div>
                        <timepicker ng-model="appointment.end_time" data-minute-step="5"></timepicker>
                    </div>
                    <!--<input class="span3"  data-ng-model="appointment.attended" type="string" maxlength="250">-->



                    <button class="btn btn-primary" ng-click="createAppointment()">Compose</button>
                    <button class="btn btn-danger pull-right" ng-click="clearAppointment()">Clear template</button>
                    <button class="btn btn-danger pull-right" ng-click="destroyAppointmnet()">Delete template</button>



                </fieldset>
            </form>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="ok()">OK</button>
                <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
            </div>
        </div>

        <div class="modal-body" ng-show="isPopup2Visible">
            <form>
                <fieldset>

                    <label><strong>Appointment Name</strong></label>
                    <div ng-show="isPopup4Visible">
                    <input class="span3" data-ng-model="appointment.doctor_name" placeholder="Doctor Name" type="text" maxlength="250">
                    <button class="btn btn-primary" ng-click="changedoctor()">Change</button>
                        </div>
                        <div ng-show="isPopup5Visible">
                        <ui-select ng-model="doctor.test" theme="select2" ng-disabled="ctrl.disabled" style="min-width: 300px;" title="Choose a doctor">
                            <ui-select-match placeholder="Choose a doctor">{{$select.selected.name}}</ui-select-match>
                            <ui-select-choices repeat="doctor in (doctors | filter:$select.search) track by $index">
                                <div ng-bind-html="doctor.name | highlight: $select.search"></div>
                            </ui-select-choices>
                        </ui-select>
                    </div>
                    <button class="btn btn-primary" ng-click="revertdoctor()" ng-show="isPopup5Visible">Revert</button>

                    <!--<input class="span3" data-ng-model="appointment.doctor_id" placeholder="Doctor Name" type="text" maxlength="250">-->
                    <div ng-show="isPopup7Visible">
                    <input class="span3"  data-ng-model="appointment.patient_name" placeholder="Doctor Name" type="text" maxlength="250">
                    <button class="btn btn-primary" ng-click="changepatient()">Change</button>
                    </div>
                    <div  ng-show="isPopup6Visible">
                        <ui-select ng-model="patient.test" theme="select2" ng-disabled="ctrl.disabled" style="min-width: 300px;" title="Choose a patient">
                            <ui-select-match placeholder="Choose a patient">{{$select.selected.firstName}}</ui-select-match>
                            <ui-select-choices repeat="patient in (patients | filter:$select.search) track by $index">
                                <div ng-bind-html="patient.firstName + + patient.lastName | highlight: $select.search"></div>
                            </ui-select-choices>
                        </ui-select>
                    </div>
                    <button class="btn btn-primary" ng-click="revertpatient()" ng-show="isPopup6Visible">Revert</button>

                    <label><strong>Price</strong></label>
                    <!--<input data-ng-model="appointment.id" id="appointmentID" placeholder="ID" type="string" maxlength="250">-->
                    <div><input class="datepicker" data-ng-model="appointment.start_date" >
                    </div>
                    <label><strong>Start Time</strong></label>
                    <div>
                        <input class="span3" timepicker ng-model="appointment.start_time" data-minute-step="5"></timepicker>
                    </div>
                    <!--<input class="span3"  data-ng-model="appointment.end_time" type="string" maxlength="250">-->
                    <label><strong>End Time</strong></label>
                    <div>
                        <timepicker ng-model="appointment.end_time"></timepicker>
                    </div>
                    <!--<input class="span3"  data-ng-model="appointment.attended" type="string" maxlength="250">-->

                    <label class="checkbox">
                        <input type="checkbox" name="checkboxes" data-ng-model="appointment.attended" value="1"> Mark as attended
                    </label>
                    <label class="checkbox">
                        <input type="checkbox" name="checkboxes" data-ng-model="appointment.fail" value="1"> Mark as failed to attend
                    </label>

                    <button class="btn btn-primary" ng-click="testupdateAppointment3(appointment)">Update</button>
                    <!--<button class="btn btn-primary" ng-click="testupdateAppointment3(appointment)" ng-show="isPopup5Visible">Update</button>-->
                    <button class="btn btn-primary" ng-click="updateAll()">Update All</button>
                    <button class="btn btn-primary" ng-click="testUpdate()">Update Test</button>


                    <button class="btn btn-danger pull-right" ng-click="testdeleteAppointment()">Delete Appointment</button>
                </fieldset>
            </form>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="ok()">OK</button>
                <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
            </div>
        </div>

    </div>
    <script type="text/ng-template" id="updateModal.html">
        <div class="modal-header">
            <h3 class="modal-title">I'm a modal!</h3>
        </div>
        <div class="modal-body">
            <form>

                <fieldset>

                    <label><strong>Appointment Name</strong></label>

                    <input class="span3" data-ng-model="appointment.doctor_name" placeholder="Doctor Name" type="text" maxlength="250">
                    <input class="span3" data-ng-model="appointment.doctor_id" placeholder="Doctor Name" type="text" maxlength="250">

                    <label><strong>Price</strong></label>
                    <input class="span3"  data-ng-model="appointment.startTime" id="appointmentStartTime" placeholder="Time" type="string" maxlength="250">
                    <input class="span3"  data-ng-model="appointment.endTime" id="appointmentEndTime" placeholder="Time" type="string" maxlength="250">
                    <input class="span3"  data-ng-model="appointment.id" id="appointmentID" placeholder="ID" type="string" maxlength="250">
                    <input class="span3"  data-ng-model="appointment.start_time" type="string" maxlength="250">

                    <input class="span3"  data-ng-model="appointment.end_time" type="string" maxlength="250">


                    <button class="btn btn-primary" ng-click="updateAppointment(appointment)">Update</button>
                    <button class="btn btn-primary" ng-click="updateAll()">Update All</button>
                    <button class="btn btn-primary" ng-click="testUpdate()">Update Test</button>


                    <button class="btn btn-danger pull-right" ng-click="destroyAppointment()">Delete Appointment</button>
                </fieldset>
            </form>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="ok()">OK</button>
                <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
            </div>
        </div>
    </script>

    <script type="text/ng-template" id="createModal.html">

        <div class="modal-header">
            <h3 class="modal-title">I'm a modal!</h3>
        </div>
        <div class="modal-body">
            <form>
                <fieldset>

                        <label><strong>Patient</strong></label>
                    <!--<div ng-model="appointment.start_time" class="well well-small" style="display:inline-block;">-->
                        <!--<timepicker hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>-->
                    <!--</div>-->
                    <!--<div ng-model="appointment.end_time" class="well well-small" style="display:inline-block;">-->
                        <!--<timepicker hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>-->
                    <!--</div>-->
                    <!--<div class="input-group bootstrap-timepicker timepicker" ng-model="appointment.startTime">-->
                        <!--<input id="timepicker2" type="text" class="form-control input-small">-->
                        <!--<span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>-->
                    <!--</div>-->
                    <!--<div class="input-group bootstrap-timepicker timepicker">-->
                        <!--<input id="timepicker1" type="text" class="form-control input-small">-->
                        <!--<span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>-->
                    <!--</div>-->
                    <select ng-model="appointment.doctor" ng-options="doctor.firstName for doctor in doctors" placeholder="Product">
                        <option value="">Select Doctor</option>
                    </select>
                    <input class="span3" data-ng-model="appointment.doctor_id" placeholder="Doctor Name" type="text" maxlength="250">
                        <input class="span3" data-ng-model="appointment.patient_id" placeholder="Patient Name" type="text" maxlength="250">


                        <input class="span12" ng-model="appointment.start_time" placeholder="Start time" type="time">
                        <input class="span12" ng-model="appointment.end_time" placeholder="End time" type="time ">
                        <input class="span12" ng-model="appointment.start_date" placeholder="Date" type="date" maxlength="250">
                        <input class="span12" ng-model="appointment.end_date" placeholder="Date" type="date:'yyyy-MM-dd" maxlength="250">

                        <button class="btn btn-primary" ng-click="createAppointment()">Compose</button>
                        <button class="btn btn-danger pull-right" ng-click="clearAppointment()">Clear template</button>
                        <button class="btn btn-danger pull-right" ng-click="destroyAppointmnet()">Delete template</button>


                    </fieldset>
            </form>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="ok()">OK</button>
                <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
            </div>
        </div>
    </script>

    <div id="fullCalModal" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span> <span class="sr-only">close</span></button>
                    <h4 id="modalTitle" class="modal-title"></h4>
                    <h4 id="dialog" class="modal-title"></h4>
                </div>

                <div class="modal-body">
                    <form id="createAppointmentForm" class="form-horizontal">
                        <div class="control-group">
                            <label class="control-label" for="inputPatient">Patient:</label>
                            <div class="controls">
                                <form>
                                    <fieldset>
                                        <input class="span12" id="appointmentId" ng-model="appointment.Id" placeholder="{{appointment.id}}" type="text" maxlength="250">
                                        <input class="span12" id="formData.appointmentPatientName" ng-model="appointment.patient_name" placeholder="Template Name" type="text" maxlength="250">
                                        <label><strong>Last Name</strong></label>
                                        <input class="span12" id="formData.appointmentDoctorName" ng-model="appointment.doctor_name" placeholder="Dr" type="text" maxlength="250">
                                        <input class="span12" id="appointmentStartTime" ng-model="appointment.start_time" placeholder="Start" type="time" value="22:38">
                                        <input type="time" id="apptEndTime"/>
                                        <input type="hidden" id="apptAllDay" />
                                        <input class="span12" id="eventUrl" />
                                        <div class="controls">

                                            <select id="inputSelect"  ng-model="appointment.attended" type="boolean">
                                            <option ng-value="false">Not attended</option>
                                            <option ng-value="true">Attended</option>
                                               </select>
                                        </div>


                                </form>
                                </fieldset>
                            </div>
                            <button name="button" id="UPDATE">Click Me!</button>

                            <button class="btn btn-primary" ng-click="updateAppointment()">Edit Appointment</button>
                            <button class="btn btn-danger pull-right" ng-click="clearAppointment()">Clear appointment</button>
                            <button class="btn btn-danger pull-right" ng-click="destroyAppointmnet()">Delete appointment</button>


                        </div>
                        <div class="control-group">
                            <label class="control-label" for="when">When:</label>
                            <div class="controls controls-row" id="when" style="margin-top:5px;">
                            </div>
                        </div>
                    </form>
                </div>


                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button class="btn btn-primary"><a id="eventUrl" target="_blank">Event Page</a></button>
                </div>
            </div>
        </div>
    </div>

    <div id="createEventModal" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel1" aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
            <h3 id="myModalLabel1">Create Appointment</h3>
        </div>
        <div class="modal-body">
            <form id="createAppointmentForm" class="form-horizontal">
                <div class="control-group">
                    <label class="control-label" for="inputPatient">Patient:</label>
                    <div class="controls">
                        <form>
                            <!--<fieldset>-->
                        <input class="span12" id="formData.appointmentPatientName" ng-model="appointment.patient_name" placeholder="Template Name" type="text" maxlength="250">
                        <label><strong>Last Name</strong></label>
                        <input class="span12" id="formData.appointmentDoctorName" ng-model="appointment.doctor_name" placeholder="Dr" type="text" maxlength="250">
                        <input class="span12" id="appointmentStartTime" ng-model="appointment.start_time" placeholder="Start" type="time" value="22:38">
                        <input type="time" id="apptEndTime"/>
                        <input type="date" id="apptAllDay" />
                        <input type="time" id="appointment.start_time"/>

                            <label><strong>Patient</strong></label>
                                <input class="span3" data-ng-model="appointment.doctor_id" placeholder="Doctor Name" type="text" maxlength="250">
                                <input class="span3" data-ng-model="appointment.patient_id" placeholder="Patient Name" type="text" maxlength="250">

                                <label><strong>Last Name</strong></label>
                                <input class="span12" ng-model="appointment.start_time" placeholder="Start time" type="date:'HH:mm">
                                <input class="span12" ng-model="appointment.end_time" placeholder="End time" type="date:'HH:mm">
                                <input class="span12" ng-model="appointment.start_date" placeholder="Date" type="date:'yyyy-MM-dd" maxlength="250">
                                <input class="span12" ng-model="appointment.end_date" placeholder="Date" type="date:'yyyy-MM-dd" maxlength="250">

                        </form>
                        <!--</fieldset>-->
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="when">When:</label>
                    <div class="controls controls-row" id="when" style="margin-top:5px;">
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
            <button type="submit" class="btn btn-primary" ng-click="createAppointment()">Save</button>
        </div>
    </div>

